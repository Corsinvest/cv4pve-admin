@*
 * SPDX-FileCopyrightText: Copyright Corsinvest Srl
 * SPDX-License-Identifier: AGPL-3.0-only
*@
@page "/ResetPassword"

@inherits AdminComponentBase

<PageTitle>@L["Reset password"]</PageTitle>

<RadzenText Text="@L["Reset password"]" TextStyle="TextStyle.H4" />
<RadzenText Text="@L["Reset your password."]" TextStyle="TextStyle.H5" />

<hr />

<RadzenAlert Shade="Shade.Lighter"
             Variant="Variant.Flat"
             Size="AlertSize.Small"
             AlertStyle="AlertStyle.Danger"
             AllowClose="false"
             Visible="@(!string.IsNullOrEmpty(Message))"
             Text="@Message" />

<RadzenStack Orientation="Orientation.Vertical" Gap="10px" JustifyContent="JustifyContent.End">
    <RadzenFormField Text="@L["Email"]" class="rz-w-100">
        <End>
            <RadzenIcon Icon="alternate_email" />
        </End>
        <ChildContent>
            <RadzenTextBox @bind-Value="Input.Email"
                           Name="@nameof(Input.Email)"
                           AutoCompleteType="AutoCompleteType.Username" />
        </ChildContent>
        <Helper>
            <RadzenDataAnnotationValidator Component="@nameof(Input.Email)" />
        </Helper>
    </RadzenFormField>

    <PasswordField Label="@L["Password"]"
                   Name="@nameof(Input.Password)"
                   @bind-Value="@Input.Password"
                   AutoCompleteType="AutoCompleteType.CurrentPassword">
        <Helper>
            <RadzenDataAnnotationValidator Component="@nameof(Input.Password)" />
        </Helper>
    </PasswordField>

    <PasswordField Label="@L["Confirm password"]"
                   Name="@nameof(Input.ConfirmPassword)"
                   @bind-Value="@Input.ConfirmPassword"
                   AutoCompleteType="AutoCompleteType.CurrentPassword">
        <Helper>
            <RadzenDataAnnotationValidator Component="@nameof(Input.ConfirmPassword)" />
        </Helper>
    </PasswordField>

    <RadzenButton ButtonType="ButtonType.Submit"
                  Text="@L["Reset"]"
                  Click="ResetAsync"
                  Style="width:fit-content;" />

    <RadzenLink Path="/Login" Text="@L["Back"]" />
</RadzenStack>
