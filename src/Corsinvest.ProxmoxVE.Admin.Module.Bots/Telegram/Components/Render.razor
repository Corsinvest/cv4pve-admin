@*
 * SPDX-FileCopyrightText: Copyright Corsinvest Srl
 * SPDX-License-Identifier: AGPL-3.0-only
*@
@inherits AdminComponentBase

<RadzenStack Orientation="Orientation.Vertical">
    <RadzenTextArea Value="@Log" Style="height: calc(100vh - 200px);" ReadOnly="true" />

    <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.End">
        <RadzenButton Click="@(() => browserService.OpenAsync("https://web.telegram.org", "_blank"))"
                      Icon="link"
                      title="@L["Open Telegram Web"]"
                      aria-label="@L["Open Telegram Web"]" />

        <RadzenButton Click="@(() => browserService.OpenAsync("https://corsinvest.github.io/cv4pve-admin/modules/bots/#set-up-your-telegram-bot", "_blank"))"
                      Icon="info"
                      title="@L["Open documentation"]"
                      aria-label="@L["Open documentation"]" />


        <RadzenFormField Text="@L["Users"]" AllowFloatingLabel="false" Visible="Chats.Count() > 1">
            <Start><RadzenIcon Icon="person" /></Start>
            <ChildContent>
                <RadzenDropDown TValue="long"
                                TextProperty="@nameof(Data.User)"
                                ValueProperty="@nameof(Data.ChatId)"
                                AllowClear="true"
                                @bind-Value="@ChatId"
                                title="@L["ChatId: {0}", ChatId]"
                                Data="@Chats" />
            </ChildContent>
        </RadzenFormField>

        <RadzenFormField Text="@L["Message"]" AllowFloatingLabel="false" class="rz-w-100" Visible="Chats.Count() > 1">
            <Start><RadzenIcon Icon="chat" /></Start>
            <ChildContent>
                <RadzenTextBox @bind-Value="@Message"
                               @onkeyup="KeyUpAsync"
                               class="rz-w-100"
                               type="search"
                               Placeholder="@L["Enter your message..."]" />
            </ChildContent>
        </RadzenFormField>
    </RadzenStack>
</RadzenStack>


@code {
}
