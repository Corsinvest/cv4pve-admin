@*
 * SPDX-FileCopyrightText: Copyright Corsinvest Srl
 * SPDX-License-Identifier: AGPL-3.0-only
*@
@inherits AdminComponentBase

<ResourcesEx @ref="ResourcesExRef"
             Filter="@((a, b) => a.ResourceType == ClusterResourceType.Vm)"
             ClusterNames="@([ClusterName])"
             PropertyIconStatus="ResourcesExPropertyIconStatus.Status"
             IconStatus="ResourceColumnIconStatus.IconAndText"
             ResourceType="ClusterResourceType.Vm"
             ShowSnapshotSize="true"
             UseProgressBarPercentage="false"
             RefreshInterval="10"
             @bind-DataGridSettings="DataGridSettings"
             ShowOsInfo="@ShowOsInfo"
             DescriptionAsLink="true">

    <TemplateToolbar>
        <SwitchField Label="@L["Show OS Info"]"
                     @bind-Value="@ShowOsInfo"
                     @bind-Value:after="ShowOsInfoAfter"
                     IconOn="computer"
                     IconOff="computer" />
    </TemplateToolbar>

    <Template>
        <RadzenPanel>
            <Corsinvest.ProxmoxVE.Admin.Core.Components.ProxmoxVE.Vm.Manager Vm="context"
                                                                             ClusterName="@ClusterName" />
        </RadzenPanel>
    </Template>
</ResourcesEx>
