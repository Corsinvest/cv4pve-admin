@*
 * SPDX-FileCopyrightText: Copyright Corsinvest Srl
 * SPDX-License-Identifier: AGPL-3.0-only
*@
@inherits AdminComponentBase

<RadzenPanel>
    <RadzenAlert Shade="Shade.Lighter"
                 Variant="Variant.Flat"
                 Size="AlertSize.Small"
                 AlertStyle="AlertStyle.Danger"
                 AllowClose="false"
                 Visible="@(!string.IsNullOrEmpty(Error))"
                 Text="@Error" />

    <RadzenTemplateForm TItem="InputModel" Data="@Model" Submit="@SubmitAsync">
        <RadzenStack Orientation="Orientation.Vertical">
            <PasswordField Label="@L["Old Password"]"
                           Name="@nameof(Model.OldPassword)"
                           @bind-Value="@Model.OldPassword"
                           AutoCompleteType="AutoCompleteType.CurrentPassword">
                <Helper>
                    <RadzenDataAnnotationValidator Component="@nameof(Model.OldPassword)" />
                </Helper>
            </PasswordField>

            <PasswordField Label="@L["New Password"]"
                           Name="@nameof(Model.NewPassword)"
                           @bind-Value="@Model.NewPassword"
                           AutoCompleteType="AutoCompleteType.NewPassword">
                <Helper>
                    <RadzenDataAnnotationValidator Component="@nameof(Model.NewPassword)" />
                </Helper>
            </PasswordField>

            <PasswordField Label="@L["Confirm Password"]"
                           Name="@nameof(Model.ConfirmPassword)"
                           @bind-Value="@Model.ConfirmPassword"
                           AutoCompleteType="AutoCompleteType.NewPassword">
                <Helper>
                    <RadzenDataAnnotationValidator Component="@nameof(Model.ConfirmPassword)" />
                </Helper>
            </PasswordField>

            <RadzenButton ButtonType="ButtonType.Submit"
                          Text="@L["Update password"]"
                          Size="ButtonSize.Small"
                          title="@L["Update password"]"
                          aria-label="@L["Update password"]" />
        </RadzenStack>
    </RadzenTemplateForm>
</RadzenPanel>
