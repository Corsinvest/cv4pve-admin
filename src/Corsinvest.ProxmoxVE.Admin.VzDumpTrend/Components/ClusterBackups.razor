@*
 * SPDX-FileCopyrightText: Copyright Corsinvest Srl
 * SPDX-License-Identifier: AGPL-3.0-only
*@
@inherits AHComponentBase

<AHDataGrid T="ClusterBackup"
            DataGridManager="DataGridManager"
            Elevation="0"
            FixedHeader="true"
            FixedFooter="true"
            Filterable="true"
            Groupable="true"
            ShowFilterIcons="false"
            Height="@Height">
    <ToolBarContent>
        <AHDataGridToolBarRead T="ClusterBackup" DataGridManager="DataGridManager" />
    </ToolBarContent>

    <Columns>
        <AHPropertyColumn T="ClusterBackup" TProperty="bool" Property="a => a.Enabled" FormatProvider="typeof(PveFormatProvider)">
            <CellTemplate>
                <MudCheckBox Value="@context.Item.Enabled" ReadOnly="true" />
            </CellTemplate>
        </AHPropertyColumn>

        <AHPropertyColumn T="ClusterBackup" TProperty="string" Property="a => a.Mode" FormatProvider="typeof(PveFormatProvider)" />
        <AHPropertyColumn T="ClusterBackup" TProperty="string" Property="a => a.DayOfWeek" FormatProvider="typeof(PveFormatProvider)" />
        <AHPropertyColumn T="ClusterBackup" TProperty="string" Property="a => a.StartTime" FormatProvider="typeof(PveFormatProvider)" />
        <AHPropertyColumn T="ClusterBackup" TProperty="string" Property="a => a.Storage" FormatProvider="typeof(PveFormatProvider)" />
        <AHPropertyColumn T="ClusterBackup" TProperty="string" Property="a => a.VmId" FormatProvider="typeof(PveFormatProvider)" />

        <AHPropertyColumn T="ClusterBackup" TProperty="bool" Property="a => a.All" FormatProvider="typeof(PveFormatProvider)">
            <CellTemplate>
                 <MudCheckBox Value="@context.Item.All" ReadOnly="true" />
            </CellTemplate>
        </AHPropertyColumn>

        <AHPropertyColumn T="ClusterBackup" TProperty="string" Property="a => a.Mailto" FormatProvider="typeof(PveFormatProvider)" />
        <AHPropertyColumn T="ClusterBackup" TProperty="string" Property="a => a.MailNotification" FormatProvider="typeof(PveFormatProvider)" />
    </Columns>

    <NoRecordsContent>
        <AHNoRecordsContent />
    </NoRecordsContent>

    <LoadingContent>
        <AHLoadingContent />
    </LoadingContent>

    <PagerContent>
        <MudDataGridPager T="ClusterBackup" />
    </PagerContent>
</AHDataGrid>