@*
 * SPDX-FileCopyrightText: Copyright Corsinvest Srl
 * SPDX-License-Identifier: AGPL-3.0-only
*@
@inherits AdminComponentBase

@implements IModelParameter<SnapshotModel>

<SwitchField @bind-Value="@Model.VmStatus"
             Label="@L["Include RAM"]"
             Name="@nameof(Model.VmStatus)"
             ReadOnly="!IsNew"
             IconOn="memory"
             IconOff="memory"
             class="rz-w-100"
             Style="@(Model.HasVmStatus ? "" : "display: none;")" />

<RadzenFormField Text="@L["Name"]" AllowFloatingLabel="false">
    <Start>
        <RadzenIcon Icon="label" />
    </Start>
    <ChildContent>
        <RadzenTextBox Name="@nameof(Model.Name)" @bind-Value="@Model.Name" ReadOnly="!IsNew" />
    </ChildContent>
    <Helper>
        <RadzenDataAnnotationValidator Component="@nameof(Model.Name)" />
    </Helper>
</RadzenFormField>

<RadzenFormField Text="@L["Description"]" AllowFloatingLabel="false">
    <Start>
        <RadzenIcon Icon="notes" />
    </Start>
    <ChildContent>
        <RadzenTextBox @bind-Value="@Model.Description" />
    </ChildContent>
</RadzenFormField>

@code
{
    [CascadingParameter] public bool IsNew { get; set; } = default!;
    [Parameter] public SnapshotModel Model { get; set; } = default!;
}
